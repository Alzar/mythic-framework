"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[7233,2595,1616],{38407:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(89526),r=(n(92070),n(88590)),o=n(14710),l=n(33933),i=n(16025),c=n(71529),s=n(57170),u=n(20785),m=n(2595),d=(0,c.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:e.palette.primary.main,fontSize:20,padding:15,lineHeight:"45px",height:78},headerAction:{textAlign:"right","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},body:{padding:10,height:"88.75%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}}));const f=function(e){var t=e.jobs,n=(e.groups,e.myGroup),c=e.loading,f=e.onRefresh,p=d();return a.createElement("div",{className:p.wrapper},a.createElement(r.Z,{position:"static",className:p.header},a.createElement(o.ZP,{container:!0},a.createElement(o.ZP,{item:!0,xs:8},"Labor"),a.createElement(o.ZP,{item:!0,xs:4,className:p.headerAction},a.createElement(l.Z,{title:"Refresh Jobs"},a.createElement(i.Z,{onClick:f},a.createElement(s.G,{className:"fa ".concat(c?"fa-spin":""),icon:["fas","arrows-rotate"]})))))),a.createElement("div",{className:p.body},Boolean(t)?Object.keys(t).length>0?Object.keys(t).map((function(e){return a.createElement(m.default,{key:"labor-".concat(e),job:t[e],myGroup:n,disabled:c})})):a.createElement("div",{className:p.emptyMsg},"No Jobs Available"):a.createElement(u.aN,{static:!0,text:"Loading"})))}},35976:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(89526),r=(n(92070),n(88590)),o=n(14710),l=n(33933),i=n(16025),c=n(71529),s=n(57170),u=n(20785),m=n(21616),d=(0,c.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:e.palette.primary.main,fontSize:20,padding:15,lineHeight:"45px",height:78},headerAction:{textAlign:"right","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},body:{padding:10,height:"88.75%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}}));const f=function(e){var t=e.myReputations,n=e.loading,c=e.onRefresh,f=d();return a.createElement("div",{className:f.wrapper},a.createElement(r.Z,{position:"static",className:f.header},a.createElement(o.ZP,{container:!0},a.createElement(o.ZP,{item:!0,xs:8},"Labor"),a.createElement(o.ZP,{item:!0,xs:4,className:f.headerAction},a.createElement(l.Z,{title:"Refresh Jobs"},a.createElement(i.Z,{onClick:c},a.createElement(s.G,{className:"fa ".concat(n?"fa-spin":""),icon:["fas","arrows-rotate"]})))))),a.createElement("div",{className:f.body},Boolean(t)?t.length>0?t.sort((function(e,t){return e.label.localeCompare(t.label)})).map((function(e){return a.createElement(m.default,{key:"labor-".concat(e.id),rep:e,disabled:n})})):a.createElement("div",{className:f.emptyMsg},"No Reputation Built"):a.createElement(u.aN,{static:!0,text:"Loading"})))}},2595:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(89526),r=n(92070),o=n(72757),l=n(14710),i=n(21722),c=n(71529),s=(n(57170),n(21447)),u=n(87961);function m(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){m(o,a,r,l,i,"next",e)}function i(e){m(o,a,r,l,i,"throw",e)}l(void 0)}))}}var f=(0,c.Z)((function(e){return{wrapper:{padding:10,background:e.palette.secondary.dark,"&:not(:last-of-type)":{marginBottom:10}},details:{position:"absolute",width:"fit-content",height:"fit-content",top:0,bottom:0,margin:"auto"},title:{fontSize:20,color:e.palette.primary.main,fontWeight:"bold"},pay:{fontSize:16,color:e.palette.success.main},duty:{fontSize:16,fontWeight:"bold",position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},actions:{position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"}}}));const p=function(e){var t=e.job,n=e.myGroup,c=e.disabled,m=f(),p=((0,r.I0)(),(0,u.VY)()),b=(0,r.v9)((function(e){return e.data.data.player})),h=function(){var e=d(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.send("StartLaborJob",{job:t.Id,isWorkgroup:Boolean(n)});case 3:return e.next=5,e.sent.json();case 5:a=e.sent,p(a?"Started ".concat(t.Name):"Unable to Start Job"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),p("Unable to Start Job");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=d(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.send("QuitLaborJob",t.Id);case 3:return e.next=5,e.sent.json();case 5:n=e.sent,p(n?"Quit ".concat(t.Name):"Unable to Quit Job"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),p("Unable to Quit Job");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return a.createElement(o.Z,{className:m.wrapper},a.createElement(l.ZP,{container:!0},a.createElement(l.ZP,{item:!0,xs:7,style:{position:"relative",height:65}},a.createElement("div",{className:m.details},a.createElement("div",{className:m.title},t.Name),t.Salary>0&&a.createElement("div",{className:m.pay},"$",t.Salary))),a.createElement(l.ZP,{item:!0,xs:2,style:{position:"relative"}},a.createElement("div",{className:m.duty},0==t.Limit?t.OnDuty.length:"".concat(t.OnDuty.length," / ").concat(t.Limit))),a.createElement(l.ZP,{item:!0,xs:3,style:{position:"relative"}},t.OnDuty.filter((function(e){return e.Joiner==b.Source})).length>0||Boolean(n)&&t.OnDuty.filter((function(e){return e.Joiner==n.Creator.ID})).length>0?a.createElement(i.Z,{variant:"text",className:m.actions,disabled:Boolean(n)&&n.Creator.ID!=b.Source||c,onClick:g},"Quit"):a.createElement(i.Z,{variant:"text",className:m.actions,disabled:Boolean(n)&&n.Creator.ID!=b.Source||Boolean(b.TempJob)||c,onClick:h},"Start"))))}},21616:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(89526),r=n(92070),o=n(72757),l=n(14710),i=n(95404),c=n(71529),s=(n(57170),n(21447),n(87961)),u=(0,c.Z)((function(e){return{wrapper:{padding:10,background:e.palette.secondary.dark,"&:not(:last-of-type)":{marginBottom:10}},details:{position:"absolute",width:"100%",height:"fit-content",top:0,bottom:0,margin:"auto"},title:{fontSize:20,color:e.palette.primary.main,fontWeight:"bold",textAlign:"center"},progressLabel:{fontSize:16,textAlign:"center"},duty:{fontSize:16,fontWeight:"bold",position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},actions:{position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},progressContainer:{padding:10}}}));const m=function(e){var t,n,c,m,d=e.rep,f=(e.myGroup,e.disabled,u());(0,r.I0)(),(0,s.VY)();return a.createElement(o.Z,{className:f.wrapper},a.createElement(l.ZP,{container:!0},a.createElement(l.ZP,{item:!0,xs:12,style:{position:"relative",height:38}},a.createElement("div",{className:f.details},a.createElement("div",{className:f.title},d.label)))),a.createElement(l.ZP,{container:!0},a.createElement(l.ZP,{item:!0,xs:2,style:{position:"relative"}},a.createElement("div",{className:f.progressLabel},null!==(t=null===(n=d.current)||void 0===n?void 0:n.label)&&void 0!==t?t:"No Rank")),a.createElement(l.ZP,{item:!0,xs:8,style:{position:"relative"}},a.createElement("div",{className:f.progressContainer},a.createElement(i.Z,{variant:"determinate",value:function(){var e,t,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,o=null!==(e=null==d||null===(t=d.current)||void 0===t?void 0:t.value)&&void 0!==e?e:0,l=null!==(n=null==d||null===(a=d.next)||void 0===a?void 0:a.value)&&void 0!==n?n:1e3;return 100*(r-o)/(l-o)}(d.value)}))),a.createElement(l.ZP,{item:!0,xs:2,style:{position:"relative"}},a.createElement("div",{className:f.progressLabel},null!==(c=null===(m=d.next)||void 0===m?void 0:m.label)&&void 0!==c?c:"Unknown"))))}},97233:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a=n(89526),r=n(92070),o=n(20088),l=n(38355),i=n(71529),c=n(53059),s=n(21447),u=n(87961),m=n(38407),d=n(95397),f=n(35976);function p(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){p(o,a,r,l,i,"next",e)}function i(e){p(o,a,r,l,i,"throw",e)}l(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=(0,i.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},content:{height:"93.75%"},tabPanel:{height:"100%"},phoneTab:{minWidth:"25%"}}}));const y=function(){var e=v(),t=(0,r.I0)(),n=(0,u.vI)(),i=(0,r.v9)((function(e){return e.data.data.player})),p=(0,r.v9)((function(e){return e.labor.tab})),g=h((0,a.useState)(!1),2),y=g[0],E=g[1],k=h((0,a.useState)(null),2),w=k[0],x=k[1],N=h((0,a.useState)(null),2),Z=N[0],S=N[1],B=h((0,a.useState)(null),2),j=B[0],P=B[1],R=h((0,a.useState)(null),2),A=R[0],O=R[1],C=h((0,a.useState)(null),2),I=C[0],J=C[1],L=h((0,a.useState)(null),2),G=L[0],T=L[1],z=(0,a.useMemo)((function(){return(0,c.throttle)(b(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.prev=3,e.next=6,s.Z.send("GetLaborDetails");case 6:return e.next=8,e.sent.json();case 8:(t=e.sent)?(x(t.jobs),O(t.groups),T(t.reputations)):(x(Array()),O(Array()),T(Array())),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),x(Object()),O(Array()),T(Array());case 18:E(!1);case 19:case"end":return e.stop()}}),e,null,[[3,12]])}))),1e3)}),[]);return(0,a.useEffect)((function(){z()}),[]),(0,a.useEffect)((function(){Boolean(A)&&J(A.filter((function(e){var t;return(null==e||null===(t=e.Creator)||void 0===t?void 0:t.ID)==i.Source||Boolean(null==e?void 0:e.Members)&&(null==e?void 0:e.Members.filter((function(e){return e.ID==i.Source})).length)>0}))[0])}),[A]),(0,a.useEffect)((function(){Boolean(w)&&Boolean(i)&&!y&&S(Object.keys(w).filter((function(e){return!w[e].Restricted})).reduce((function(e,t){return e[t]=w[t],e}),{}))}),[w,i,y]),(0,a.useEffect)((function(){Boolean(w)&&Boolean(i)&&!y&&(Object.keys(w).length>0?P(Object.keys(w).filter((function(e){var t;return Boolean(w[e].Restricted)&&Boolean(null===(t=w[e].Restricted)||void 0===t?void 0:t.state)&&n(w[e].Restricted.state)})).reduce((function(e,t){return e[t]=w[t],e}),{})):P(null))}),[w,i,y]),a.createElement("div",{className:e.wrapper},a.createElement("div",{className:e.content},a.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:0!==p,id:"jobs"},0===p&&a.createElement(m.default,{jobs:Z,groups:A,myGroup:I,loading:y,onRefresh:z})),Boolean(j)&&Object.keys(j).length>0&&a.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:1!==p,id:"illegal"},1===p&&a.createElement(m.default,{jobs:j,groups:A,myGroup:I,loading:y,onRefresh:z})),a.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:p!==(Boolean(j)&&Object.keys(j).length>0?2:1),id:"groups"},p===(Boolean(j)&&Object.keys(j).length>0)?2:a.createElement(d.default,{groups:A,myGroup:I,loading:y,onRefresh:z})),a.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:p!==(Boolean(j)&&Object.keys(j).length>0?3:2),id:"groups"},p===(Boolean(j)&&Object.keys(j).length>0)?3:a.createElement(f.default,{myReputations:G,loading:y,onRefresh:z}))),a.createElement("div",{className:e.tabs},a.createElement(o.Z,{value:p,onChange:function(e,n){t({type:"SET_LABOR_TAB",payload:{tab:n}})},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",scrollButtons:!1},a.createElement(l.Z,{className:e.phoneTab,label:"Jobs"}),Boolean(j)&&Object.keys(j).length>0&&a.createElement(l.Z,{className:e.phoneTab,label:"Restricted"}),a.createElement(l.Z,{className:e.phoneTab,label:"Groups"}),a.createElement(l.Z,{className:e.phoneTab,label:"Reputation"}))))}}}]);