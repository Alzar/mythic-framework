"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[5693,1665],{11665:(t,e,n)=>{n.r(e),n.d(e,{createContact:()=>l,deleteContact:()=>s,updateContact:()=>u});var r=n(21447);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e,n,r,a,o,c){try{var i=t[o](c),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(r,a)}var l=function(t){return function(e){r.Z.send("CreateContact",t).then(function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==r){n.next=15;break}return n.t0=e,n.t1=o,n.t2=o({},t),n.t3={},n.next=7,r.json();case 7:n.t4=n.sent,n.t5={_id:n.t4},n.t6=(0,n.t1)(n.t2,n.t3,n.t5),n.t7={type:"contacts",data:n.t6},n.t8={type:"ADD_DATA",payload:n.t7},(0,n.t0)(n.t8),n.next=15;break;case 15:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function c(t){i(o,r,a,c,l,"next",t)}function l(t){i(o,r,a,c,l,"throw",t)}c(void 0)}))});return function(t){return r.apply(this,arguments)}}())}},u=function(t,e){return function(n){r.Z.send("UpdateContact",o(o({},e),{},{id:t})).then((function(r){r&&n({type:"UPDATE_DATA",payload:{type:"contacts",id:t,data:e}})}))}},s=function(t){return function(e){r.Z.send("DeleteContact",t).then((function(n){n&&e({type:"REMOVE_DATA",payload:{type:"contacts",id:t}})}))}}},25693:(t,e,n)=>{n.r(e),n.d(e,{default:()=>N});var r=n(89526),a=n(92070),o=n(65092),c=n(72757),i=n(32165),l=n(14710),u=n(23646),s=n(62905),m=n(72861),d=n(41951),p=n(50660),f=n(21722),b=n(71529),g=n(57170),v=n(74569),h=n.n(v),y=n(11665),w=n(87961),k=n(20785);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],c=!0,i=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);c=!0);}catch(t){i=!0,a=t}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=(0,b.Z)((function(t){return{wrapper:{height:"100%",background:t.palette.secondary.main,overflowY:"auto",overflowX:"hidden",padding:"0  10px","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},avatar:{height:100,width:100,fontSize:35,color:t.palette.text.light,position:"absolute",left:0,right:0,top:"10%",display:"block",textAlign:"center",lineHeight:"100px",margin:"auto",border:"2px solid transparent",transition:"border 0.15s ease-in","&:hover":{filter:"brightness(0.6)",transition:"filter ease-in 0.15s",cursor:"pointer"},"&.favorite":{border:"2px solid gold"}},contactHeader:{padding:20,background:t.palette.secondary.dark,width:"100%",margin:"70px auto 25px auto",textAlign:"center"},contactName:{fontSize:30,color:t.palette.primary.main},contactNumber:{fontSize:15,color:t.palette.text.main},contactButtons:{marginTop:25},contactButton:{fontSize:25,"&:hover":{color:t.palette.primary.main,transition:"color 0.15s ease-in",cursor:"pointer"}},actions:{background:t.palette.secondary.dark,borderRadius:10,fontSize:15,fontWeight:"bold",margin:"0 auto 25px auto",width:"100%"},action:{width:"100%",padding:20,margin:"auto","&:hover":{filter:"brightness(0.6)",transition:"filter 0.15s ease-in",cursor:"pointer"}},actionIcon:{display:"block",fontSize:15,textAlign:"center",position:"relative",right:0,top:0,bottom:0,margin:"auto"},editBody:{padding:20,background:t.palette.secondary.dark,borderRadius:10,width:"100%",margin:"auto"},editField:{width:"100%",marginBottom:20,fontSize:20},buttons:{width:"100%",display:"flex",margin:"auto"},button:{width:"-webkit-fill-available",padding:20,color:t.palette.warning.main,"&:hover":{backgroundColor:"".concat(t.palette.warning.main,"14")}},buttonNegative:{width:"-webkit-fill-available",padding:20,color:t.palette.error.main,"&:hover":{backgroundColor:"".concat(t.palette.error.main,"14")}},buttonPositive:{width:"-webkit-fill-available",padding:20,color:t.palette.success.main,"&:hover":{backgroundColor:"".concat(t.palette.success.main,"14")}},avaBody:{background:t.palette.secondary.main,padding:20},editAvatar:{position:"absolute",background:t.palette.secondary.main,padding:25,width:"70%",left:0,right:0,margin:"auto",zIndex:15},colorPreview:{marginBottom:10},colorLabel:{color:t.palette.text.main,fontWeight:"bold",marginBottom:5},colorDisplay:{width:"100%",height:45,border:"1px solid ".concat(t.palette.text.main)}}}));const N=(0,a.$j)(null,{updateContact:y.updateContact})((function(t){var e=(0,w.VY)(),n=j(),b=(0,o.k6)(),v=t.match.params.id,y=(0,a.v9)((function(t){return t.data.data})).contacts,E=x((0,r.useState)((0,a.v9)((function(t){return t.data.data.contacts})).filter((function(t){return t._id==v}))[0]),2),P=E[0],N=E[1],A=x((0,r.useState)(!1),2),S=A[0],D=A[1],Z=x((0,r.useState)(!1),2),B=Z[0],_=Z[1],z=function(t){if(null!=t.hex)N(O(O({},P),{},{color:t.hex}));else if("favorite"===t.target.name)N(O(O({},P),{},C({},t.target.name,t.target.checked)));else N(O(O({},P),{},C({},t.target.name,t.target.value)))};return r.createElement("div",{className:n.wrapper},r.createElement(c.Z,{className:n.contactHeader},null!=P.avatar&&""!==P.avatar?r.createElement(i.Z,{className:"".concat(n.avatar).concat(P.favorite?" favorite":""),src:P.avatar,alt:P.name.charAt(0),onClick:function(){return _(!0)}}):r.createElement(i.Z,{className:"".concat(n.avatar).concat(P.favorite?" favorite":""),style:{background:P.color},onClick:function(){return _(!0)}},P.name.charAt(0)),r.createElement("div",{className:n.contactName,style:{color:P.color}},P.name),r.createElement("div",{className:n.contactNumber},P.number),r.createElement(l.ZP,{container:!0,className:n.contactButtons},r.createElement(l.ZP,{item:!0,xs:6,onClick:function(){},className:n.contactButton},r.createElement(g.G,{icon:"phone"})),r.createElement(l.ZP,{item:!0,xs:6,onClick:function(){b.push("/apps/messages/convo/".concat(P.number))},className:n.contactButton},r.createElement(g.G,{icon:"message-sms"})))),r.createElement(c.Z,{className:n.editBody},r.createElement("div",{style:{textAlign:"center"}},r.createElement("h1",null,"Edit Contact Details")),r.createElement("form",{autoComplete:"off",onSubmit:function(n){_(!1),n.preventDefault(),y.filter((function(t){return t.number===P.number&&t._id!=P._id})).length>1&&y.filter((function(t){return t._id===P._id&&t.number!==P.number})).length>0?e("Contact Already Exists For This Number"):(t.updateContact(P._id,P),e("".concat(P.name," Updated")),b.goBack())},id:"contact-form"},r.createElement(u.Z,{className:n.editField,label:"Name",name:"name",type:"text",required:!0,value:P.name,onChange:z,InputLabelProps:{style:{fontSize:20}}}),r.createElement(h(),{mask:"999-999-9999",value:P.number,onChange:z},(function(){return r.createElement(u.Z,{className:n.editField,label:"Number",name:"number",type:"text",required:!0,InputLabelProps:{style:{fontSize:20}}})})),r.createElement("div",{className:n.colorPreview},r.createElement("div",{className:n.colorLabel},"Contact Color *"),r.createElement("div",{className:n.colorDisplay,style:{background:P.color},onClick:function(){return D(!0)}})),r.createElement(s.Z,{row:!0},r.createElement(m.Z,{style:{width:"100%"},control:r.createElement(d.Z,{checked:P.favorite,onChange:z,value:"favorite",name:"favorite",color:"primary"}),label:"Favorite"})))),r.createElement(p.Z,{variant:"text",color:"primary",className:n.buttons},r.createElement(f.Z,{className:n.button,onClick:function(){return b.goBack()}},"Cancel"),r.createElement(f.Z,{className:n.buttonNegative,type:"submit",form:"contact-form"},"Delete"),r.createElement(f.Z,{className:n.buttonPositive,type:"submit",form:"contact-form"},"Save")),r.createElement(k.u_,{open:B,title:"Avatar",onClose:function(){return _(!1)},onDelete:null!=P.avatar&&Boolean(P.avatar)?function(){e("Avatar Image Removed"),_(!1),N(O(O({},P),{},{avatar:""}))}:null,deleteLang:"Remove Avatar",closeLang:"Done"},r.createElement(u.Z,{className:n.editField,label:"Link",name:"avatar",type:"text",onChange:z,value:P.avatar,InputLabelProps:{style:{fontSize:20}}})),r.createElement(k.u_,{hideClose:!0,open:S,title:"Contact Color",onClose:function(){return D(!1)},onAccept:function(){return D(!1)},acceptLang:"Save"},r.createElement(k.zH,{color:P.color,onChange:z})))}))}}]);