"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[2613,9223],{9223:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var n=t(89526),a=t(91153),o=t(77548),i=t(81939),c=t(16025),s=t(71529),l=t(57170),u=t(20785),d=t(21447),p=t(87961);function m(e,r,t,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void t(e)}c.done?r(s):Promise.resolve(s).then(n,a)}function h(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,o=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var f=(0,s.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main}}}));const y=function(e){var r=e.property,t=e.data,s=e.canRevoke,b=e.onRefresh,y=f(),g=(0,p.VY)(),v=h((0,n.useState)(!1),2),k=v[0],w=v[1],x=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.send("Home:RevokeDigiKey",{id:r.id,target:t.Char});case 3:return e.next=5,e.sent.json();case 5:if((a=e.sent).error){e.next=12;break}g("DigiKey Has Been Revoked"),w(!1),b(),e.next=29;break;case 12:e.t0=a.code,e.next=1===e.t0?15:2===e.t0?17:3===e.t0?19:4===e.t0?21:5===e.t0?23:6===e.t0?25:7===e.t0?27:29;break;case 15:return g("Error Occured"),e.abrupt("break",29);case 17:return g("Invalid Property"),e.abrupt("break",29);case 19:return g("Not Allowed"),e.abrupt("break",29);case 21:return g("Invalid Target Player"),e.abrupt("break",29);case 23:return g("Invalid Target Character"),e.abrupt("break",29);case 25:return g("Person Doesn't Have A DigiKey For Property"),e.abrupt("break",29);case 27:return g("Error Occured Revoking DigiKey"),e.abrupt("break",29);case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),console.log(e.t1);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){m(o,n,a,i,c,"next",e)}function c(e){m(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return n.createElement("div",{className:y.wrapper},n.createElement(a.ZP,{divider:!0},n.createElement(o.Z,{primary:"".concat(t.First," ").concat(t.Last),secondary:t.Owner?"Owner":"Key Holder"}),s&&n.createElement(i.Z,null,n.createElement(c.Z,{onClick:function(){return w(!0)}},n.createElement(l.G,{icon:["fas","trash"]})))),s&&n.createElement(u.I4,{title:"Revoke DigiKey?",open:k,confirm:"Yes",decline:"No",onConfirm:x,onDecline:function(){return w(!1)}},n.createElement("p",null,"Removing the DigiKey will revoke access to this property and shared assets for this person. Are you sure?")))}},32613:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var n=t(89526),a=(t(92070),t(72215)),o=t(65096),i=t(23646),c=t(71529),s=t(57170),l=t(30909),u=t(20785),d=t(9223),p=t(87961),m=t(21447);function h(e,r,t,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void t(e)}c.done?r(s):Promise.resolve(s).then(n,a)}function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,o=[],i=!0,c=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var y=(0,c.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflow:"hidden"},header:{background:"#30518c",fontSize:20,padding:15,lineHeight:"50px",height:78},headerAction:{},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},fab:{backgroundColor:"#30518c",position:"absolute",bottom:"20%",right:"10%"},list:{position:"inherit"}}}));const g=function(e){var r=e.property,t=e.onRefresh,c=e.myKey,f=y(),g=(0,p.VY)(),v=b((0,n.useState)(!1),2),k=v[0],w=v[1],x=b((0,n.useState)(!1),2),C=x[0],Z=x[1],S=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),w(!0),e.prev=2,e.next=5,m.Z.send("Home:CreateDigiKey",{id:r.id,target:+n.target.target.value});case 5:return e.next=7,e.sent.json();case 7:if((a=e.sent).error){e.next=14;break}g("New DigiKey Has Been Issued"),Z(!1),t(),e.next=31;break;case 14:e.t0=a.code,e.next=1===e.t0?17:2===e.t0?19:3===e.t0?21:4===e.t0?23:5===e.t0?25:6===e.t0?27:7===e.t0?29:31;break;case 17:return g("Error Occured"),e.abrupt("break",31);case 19:return g("Invalid Property"),e.abrupt("break",31);case 21:return g("Not Allowed"),e.abrupt("break",31);case 23:return g("Invalid Target Player"),e.abrupt("break",31);case 25:return g("Invalid Target Character"),e.abrupt("break",31);case 27:return g("Person Already Has DigiKey For Property"),e.abrupt("break",31);case 29:return g("Error Occured Issuing DigiKey"),e.abrupt("break",31);case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(2),console.log(e.t1),g("Unable to Create DigiKey");case 37:w(!1);case 38:case"end":return e.stop()}}),e,null,[[2,33]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){h(o,n,a,i,c,"next",e)}function c(e){h(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return n.createElement("div",{className:f.wrapper},n.createElement(a.Z,{className:f.list},Object.keys(r.keys).sort((function(e,t){return r.keys[t].Owner-r.keys[e].Owner})).map((function(e){var a=r.keys[e];return n.createElement(d.default,{key:e,property:r,data:a,canRevoke:c.Owner&&!a.Owner,onRefresh:t})}))),c.Owner&&n.createElement(n.Fragment,null,n.createElement(o.Z,{className:f.fab,onClick:function(){return Z(!0)}},n.createElement(s.G,{icon:["fas","plus"]})),n.createElement(u.u_,{form:!0,formStyle:{position:"relative"},disabled:k,open:C,title:"Create New DigiKey",onAccept:S,onClose:function(){return Z(!1)},submitLang:"Create"},n.createElement(n.Fragment,null,k&&n.createElement(u.aN,{static:!0,text:"Creating DigiKey"}),n.createElement(l.Z,{fullWidth:!0,required:!0,label:"Target State ID",name:"target",type:"tel",isNumericString:!0,customInput:i.Z,disabled:k,className:f.editorField})))))}},65096:(e,r,t)=>{t.d(r,{Z:()=>g});var n=t(71972),a=t(17692),o=t(89526),i=t(23060),c=t(82082),s=t(72016),l=t(9333),u=t(26966),d=t(24989);function p(e){return(0,d.Z)("MuiFab",e)}const m=(0,t(36787).Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge"]);var h=t(47671),b=t(67557);const f=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],y=(0,h.ZP)(s.Z,{name:"MuiFab",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`size${(0,l.Z)(t.size)}`],"inherit"===t.color&&r.colorInherit,"primary"===t.color&&r.primary,"secondary"===t.color&&r.secondary]}})((({theme:e,ownerState:r})=>(0,a.Z)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},textDecoration:"none"},[`&.${m.focusVisible}`]:{boxShadow:e.shadows[6]},[`&.${m.disabled}`]:{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},"small"===r.size&&{width:40,height:40},"medium"===r.size&&{width:48,height:48},"extended"===r.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===r.variant&&"small"===r.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===r.variant&&"medium"===r.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===r.color&&{color:"inherit"})),(({theme:e,ownerState:r})=>(0,a.Z)({},"primary"===r.color&&{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},"secondary"===r.color&&{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}}))),g=o.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiFab"}),{children:o,className:s,color:d="default",component:m="button",disabled:h=!1,disableFocusRipple:g=!1,focusVisibleClassName:v,size:k="large",variant:w="circular"}=t,x=(0,n.Z)(t,f),C=(0,a.Z)({},t,{color:d,component:m,disabled:h,disableFocusRipple:g,size:k,variant:w}),Z=(e=>{const{color:r,variant:t,classes:n,size:a}=e,o={root:["root",t,`size${(0,l.Z)(a)}`,"inherit"===r&&"colorInherit","primary"===r&&"primary","secondary"===r&&"secondary"]};return(0,c.Z)(o,p,n)})(C);return(0,b.jsx)(y,(0,a.Z)({className:(0,i.Z)(Z.root,s),component:m,disabled:h,focusRipple:!g,focusVisibleClassName:(0,i.Z)(Z.focusVisible,v),ownerState:C,ref:r},x,{children:o}))}))}}]);