"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[5693,1665],{11665:(t,e,r)=>{r.r(e),r.d(e,{createContact:()=>l,deleteContact:()=>s,updateContact:()=>u});var n=r(21447);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e,r,n,a,o,c){try{var i=t[o](c),l=i.value}catch(t){return void r(t)}i.done?e(l):Promise.resolve(l).then(n,a)}var l=function(t){return function(e){n.Z.send("CreateContact",t).then(function(){var r,n=(r=regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null==n){r.next=15;break}return r.t0=e,r.t1=o,r.t2=o({},t),r.t3={},r.next=7,n.json();case 7:r.t4=r.sent,r.t5={_id:r.t4},r.t6=(0,r.t1)(r.t2,r.t3,r.t5),r.t7={type:"contacts",data:r.t6},r.t8={type:"ADD_DATA",payload:r.t7},(0,r.t0)(r.t8),r.next=15;break;case 15:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(n,a){var o=r.apply(t,e);function c(t){i(o,n,a,c,l,"next",t)}function l(t){i(o,n,a,c,l,"throw",t)}c(void 0)}))});return function(t){return n.apply(this,arguments)}}())}},u=function(t,e){return function(r){n.Z.send("UpdateContact",o(o({},e),{},{id:t})).then((function(n){n&&r({type:"UPDATE_DATA",payload:{type:"contacts",id:t,data:e}})}))}},s=function(t){return function(e){n.Z.send("DeleteContact",t).then((function(r){r&&e({type:"REMOVE_DATA",payload:{type:"contacts",id:t}})}))}}},25693:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Z});var n=r(89526),a=r(92070),o=r(65092),c=r(72757),i=r(32165),l=r(14710),u=r(23646),s=r(62905),m=r(72861),d=r(41951),p=r(50660),f=r(21722),b=r(71529),v=r(57170),g=r(74569),h=r.n(g),y=r(11665),w=r(87961),k=r(20785);function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(t);!(c=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);c=!0);}catch(t){i=!0,a=t}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var P=(0,b.Z)((function(t){return{wrapper:{height:"100%",background:t.palette.secondary.main,overflowY:"auto",overflowX:"hidden",padding:"0  10px","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:t.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},avatar:{height:100,width:100,fontSize:35,color:t.palette.text.light,position:"absolute",left:0,right:0,top:"10%",display:"block",textAlign:"center",lineHeight:"100px",margin:"auto",border:"2px solid transparent",transition:"border 0.15s ease-in","&:hover":{filter:"brightness(0.6)",transition:"filter ease-in 0.15s",cursor:"pointer"},"&.favorite":{border:"2px solid gold"}},contactHeader:{padding:20,background:t.palette.secondary.dark,width:"100%",margin:"70px auto 25px auto",textAlign:"center"},contactName:{fontSize:30,color:t.palette.primary.main},contactNumber:{fontSize:15,color:t.palette.text.main},contactButtons:{marginTop:25},contactButton:{fontSize:25,"&:hover":{color:t.palette.primary.main,transition:"color 0.15s ease-in",cursor:"pointer"}},actions:{background:t.palette.secondary.dark,borderRadius:10,fontSize:15,fontWeight:"bold",margin:"0 auto 25px auto",width:"100%"},action:{width:"100%",padding:20,margin:"auto","&:hover":{filter:"brightness(0.6)",transition:"filter 0.15s ease-in",cursor:"pointer"}},actionIcon:{display:"block",fontSize:15,textAlign:"center",position:"relative",right:0,top:0,bottom:0,margin:"auto"},editBody:{padding:20,background:t.palette.secondary.dark,borderRadius:10,width:"100%",margin:"auto"},editField:{width:"100%",marginBottom:20,fontSize:20},buttons:{width:"100%",display:"flex",margin:"auto"},button:{width:"-webkit-fill-available",padding:20,color:t.palette.warning.main,"&:hover":{backgroundColor:"".concat(t.palette.warning.main,"14")}},buttonNegative:{width:"-webkit-fill-available",padding:20,color:t.palette.error.main,"&:hover":{backgroundColor:"".concat(t.palette.error.main,"14")}},buttonPositive:{width:"-webkit-fill-available",padding:20,color:t.palette.success.main,"&:hover":{backgroundColor:"".concat(t.palette.success.main,"14")}},avaBody:{background:t.palette.secondary.main,padding:20},editAvatar:{position:"absolute",background:t.palette.secondary.main,padding:25,width:"70%",left:0,right:0,margin:"auto",zIndex:15},colorPreview:{marginBottom:10},colorLabel:{color:t.palette.text.main,fontWeight:"bold",marginBottom:5},colorDisplay:{width:"100%",height:45,border:"1px solid ".concat(t.palette.text.main)}}}));const Z=(0,a.$j)(null,{updateContact:y.updateContact})((function(t){var e=(0,w.VY)(),r=P(),b=(0,o.k6)(),g=t.match.params.id,y=(0,a.v9)((function(t){return t.data.data})).contacts,E=C((0,n.useState)((0,a.v9)((function(t){return t.data.data.contacts})).filter((function(t){return t._id==g}))[0]),2),N=E[0],Z=E[1],j=C((0,n.useState)(!1),2),S=j[0],A=j[1],D=C((0,n.useState)(!1),2),B=D[0],_=D[1],z=function(t){if(null!=t.hex)Z(O(O({},N),{},{color:t.hex}));else if("favorite"===t.target.name)Z(O(O({},N),{},x({},t.target.name,t.target.checked)));else Z(O(O({},N),{},x({},t.target.name,t.target.value)))};return n.createElement("div",{className:r.wrapper},n.createElement(c.Z,{className:r.contactHeader},null!=N.avatar&&""!==N.avatar?n.createElement(i.Z,{className:"".concat(r.avatar).concat(N.favorite?" favorite":""),src:N.avatar,alt:N.name.charAt(0),onClick:function(){return _(!0)}}):n.createElement(i.Z,{className:"".concat(r.avatar).concat(N.favorite?" favorite":""),style:{background:N.color},onClick:function(){return _(!0)}},N.name.charAt(0)),n.createElement("div",{className:r.contactName,style:{color:N.color}},N.name),n.createElement("div",{className:r.contactNumber},N.number),n.createElement(l.ZP,{container:!0,className:r.contactButtons},n.createElement(l.ZP,{item:!0,xs:6,onClick:function(){},className:r.contactButton},n.createElement(v.G,{icon:"phone"})),n.createElement(l.ZP,{item:!0,xs:6,onClick:function(){b.push("/apps/messages/convo/".concat(N.number))},className:r.contactButton},n.createElement(v.G,{icon:"message-sms"})))),n.createElement(c.Z,{className:r.editBody},n.createElement("div",{style:{textAlign:"center"}},n.createElement("h1",null,"Edit Contact Details")),n.createElement("form",{autoComplete:"off",onSubmit:function(r){_(!1),r.preventDefault(),y.filter((function(t){return t.number===N.number&&t._id!=N._id})).length>1&&y.filter((function(t){return t._id===N._id&&t.number!==N.number})).length>0?e("Contact Already Exists For This Number"):(t.updateContact(N._id,N),e("".concat(N.name," Updated")),b.goBack())},id:"contact-form"},n.createElement(u.Z,{className:r.editField,label:"Name",name:"name",type:"text",required:!0,value:N.name,onChange:z,InputLabelProps:{style:{fontSize:20}}}),n.createElement(h(),{mask:"999-999-9999",value:N.number,onChange:z},(function(){return n.createElement(u.Z,{className:r.editField,label:"Number",name:"number",type:"text",required:!0,InputLabelProps:{style:{fontSize:20}}})})),n.createElement("div",{className:r.colorPreview},n.createElement("div",{className:r.colorLabel},"Contact Color *"),n.createElement("div",{className:r.colorDisplay,style:{background:N.color},onClick:function(){return A(!0)}})),n.createElement(s.Z,{row:!0},n.createElement(m.Z,{style:{width:"100%"},control:n.createElement(d.Z,{checked:N.favorite,onChange:z,value:"favorite",name:"favorite",color:"primary"}),label:"Favorite"})))),n.createElement(p.Z,{variant:"text",color:"primary",className:r.buttons},n.createElement(f.Z,{className:r.button,onClick:function(){return b.goBack()}},"Cancel"),n.createElement(f.Z,{className:r.buttonNegative,type:"submit",form:"contact-form"},"Delete"),n.createElement(f.Z,{className:r.buttonPositive,type:"submit",form:"contact-form"},"Save")),n.createElement(k.u_,{open:B,title:"Avatar",onClose:function(){return _(!1)},onDelete:null!=N.avatar&&Boolean(N.avatar)?function(){e("Avatar Image Removed"),_(!1),Z(O(O({},N),{},{avatar:""}))}:null,deleteLang:"Remove Avatar",closeLang:"Done"},n.createElement(u.Z,{className:r.editField,label:"Link",name:"avatar",type:"text",onChange:z,value:N.avatar,InputLabelProps:{style:{fontSize:20}}})),n.createElement(k.u_,{hideClose:!0,open:S,title:"Contact Color",onClose:function(){return A(!1)},onAccept:function(){return A(!1)},acceptLang:"Save"},n.createElement(k.zH,{color:N.color,onChange:z})))}))},62905:(t,e,r)=>{r.d(e,{Z:()=>b});var n=r(71972),a=r(17692),o=r(89526),c=r(23060),i=r(82082),l=r(47671),u=r(26966),s=r(24989);function m(t){return(0,s.Z)("MuiFormGroup",t)}(0,r(36787).Z)("MuiFormGroup",["root","row"]);var d=r(67557);const p=["className","row"],f=(0,l.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})((({ownerState:t})=>(0,a.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"}))),b=o.forwardRef((function(t,e){const r=(0,u.Z)({props:t,name:"MuiFormGroup"}),{className:o,row:l=!1}=r,s=(0,n.Z)(r,p),b=(0,a.Z)({},r,{row:l}),v=(t=>{const{classes:e,row:r}=t,n={root:["root",r&&"row"]};return(0,i.Z)(n,m,e)})(b);return(0,d.jsx)(f,(0,a.Z)({className:(0,c.Z)(v.root,o),ownerState:b,ref:e},s))}))}}]);