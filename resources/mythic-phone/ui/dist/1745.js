"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[1745,2701],{72701:(e,t,n)=>{n.r(t),n.d(t,{getActualRemainingAmount:()=>o,getLoanIdentifierType:()=>r,getLoanTypeName:()=>a,getNextPaymentAmount:()=>i});var a=function(e){switch(e){case"vehicle":return"Vehicle";case"property":return"Property";default:return"Asset"}},r=function(e){switch(e){case"vehicle":return"Vehicle VIN";case"property":return"Property ID";default:return"Asset ID"}},o=function(e){if(e.Remaining>0){var t=(100+e.InterestRate)/100;return Math.ceil(e.Remaining*t)}return 0},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.Remaining>0){var n=(100+e.InterestRate)/100,a=e.TotalPayments-e.PaidPayments;e.MissedPayments>1&&1===t&&(t=e.MissedPayments),t>a&&(t=a);var r=e.Remaining/a,o=r*t*n;return Math.ceil(o)}return 0}},61745:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(89526),r=n(92070),o=n(88590),i=n(14710),l=n(33933),s=n(16025),c=n(71529),m=n(65092),u=n(57170),d=n(20785),p=n(59324),y=n.n(p),f=n(21447),g=n(87961),h=n(72701);function P(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,c.Z)((function(e){var t;return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:"#30518c"},titleBar:{padding:15,fontSize:20,lineHeight:"50px",height:78},subBar:{padding:15,textAlign:"left",lineHeight:"30px",backgroundColor:e.palette.secondary.light},accountBody:(t={padding:20,overflowY:"auto",overflowX:"hidden"},v(t,"padding",10),v(t,"&::-webkit-scrollbar",{width:6}),v(t,"&::-webkit-scrollbar-thumb",{background:"#ffffff52"}),v(t,"&::-webkit-scrollbar-thumb:hover",{background:e.palette.primary.main}),v(t,"&::-webkit-scrollbar-track",{background:"transparent"}),t),accountBtn:{width:"90%",padding:10,margin:"2.5% auto",position:"relative",height:75,background:e.palette.secondary.dark,willChange:"background",transition:"background 400ms",borderRadius:5,boxShadow:"0px 0px 12px -2px rgba(0,0,0,0.3)","&:hover":{cursor:"pointer"},"&:hover:not(.disabled)":{background:"rgba(255, 255, 255, 0.01)"},"&.disabled":{opacity:"60%",color:e.palette.secondary.contrastText}},content:{position:"absolute",top:0,bottom:0,left:0,right:0,height:"fit-content",width:"100%",padding:"5px 7.5% 5px 2%",textAlign:"center",margin:"auto",fontSize:28,"& svg":{color:e.palette.primary.main,fontSize:35}},currency:{color:e.palette.success.main},editField:{marginBottom:20,width:"100%","& p":{marginTop:0}}}}));const E=function(e){var t,n=(0,g.VY)(),c=(0,m.k6)(),p=k(),x=e.match.params.loan,v=(0,r.v9)((function(e){return e.data.data.bankLoans.loans})),E=v&&v.find((function(e){return e._id==x}));if(!E)return null;var Z=b((0,a.useState)(!1),2),w=Z[0],A=Z[1],N=b((0,a.useState)(!1),2),S=N[0],L=N[1],I=b((0,a.useState)({}),2),M=I[0],C=I[1],R=function(e){if(e){var t=1;if(E.MissedPayments>1){var n=E.TotalPayments-E.PaidPayments;(t=E.MissedPayments)>n&&(t=n)}C({minWeeks:t,weeks:t,allowAhead:!0})}else C({minWeeks:1,weeks:1,allowAhead:!1});L(!0)},B=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L(!1),A(!0),e.prev=3,e.next=6,f.Z.send("Loans:Payment",{loan:E._id,weeks:M.weeks,paymentAhead:M.allowAhead});case 6:return e.next=8,e.sent.json();case 8:(a=e.sent)&&a.success?(a.paidOff?n("Loan Paid Off Completely!"):n("Loan Payment of $".concat(a.paymentAmount," Successful")),c.goBack()):n(null!==(r=a.message)&&void 0!==r?r:"Loan Payment Failed"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),n("Loan Payment Failed");case 15:A(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){P(o,a,r,i,l,"next",e)}function l(e){P(o,a,r,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:p.wrapper},a.createElement(o.Z,{position:"static",className:p.header},a.createElement(i.ZP,{container:!0,className:p.titleBar},a.createElement(i.ZP,{item:!0,xs:7,style:{lineHeight:"50px"}},"Loans - ",(0,h.getLoanTypeName)(E.Type)),a.createElement(i.ZP,{item:!0,xs:5,style:{textAlign:"right"}},a.createElement(l.Z,{title:E._id},a.createElement("span",null,a.createElement(s.Z,null,a.createElement(u.G,{icon:["fas",null!==(t={vehicle:"car-side",property:"house-building"}[E.Type])&&void 0!==t?t:"coin"]})))))),!w&&E&&a.createElement(i.ZP,{container:!0,className:p.subBar},a.createElement(i.ZP,{item:!0,xs:12},(0,h.getLoanIdentifierType)(E.Type),": ",E.AssetIdentifier),a.createElement(i.ZP,{item:!0,xs:6},"Remaining:"," ",a.createElement("span",{className:p.currency},"$",(0,h.getActualRemainingAmount)(E).toLocaleString("en-US"))),a.createElement(i.ZP,{item:!0,xs:6},"Paid:"," ",a.createElement("span",{className:p.currency},"$",E.Paid.toLocaleString("en-US"))),a.createElement(i.ZP,{item:!0,xs:6},"Payments Paid: ",E.PaidPayments),a.createElement(i.ZP,{item:!0,xs:6},"Payments Remaining: ",E.TotalPayments-E.PaidPayments),a.createElement(i.ZP,{item:!0,xs:6},"Interest Rate: ",E.InterestRate,"%"),E.MissablePayments>0&&a.createElement(i.ZP,{item:!0,xs:6},"Missed Payments: ",E.MissedPayments,"/",E.MissablePayments),a.createElement(i.ZP,{item:!0,xs:12},a.createElement("br",null)),a.createElement(i.ZP,{item:!0,xs:12},"Last Payment:"," ",E.LastPayment?a.createElement(y(),{unix:!0,date:E.LastPayment,calendar:!0}):"No Payments Have Been Made"),a.createElement(i.ZP,{item:!0,xs:12},"Next Payment Due:"," ",E.NextPayment?a.createElement(y(),{unix:!0,date:E.NextPayment,calendar:!0}):"No More Payments are Due"),E.Remaining>0&&E.NextPayment&&a.createElement(i.ZP,{item:!0,xs:12},"Next Payment Amount:"," ",a.createElement("span",{className:p.currency},"$",(0,h.getNextPaymentAmount)(E).toLocaleString("en-US"))),(E.Defaulted||E.MissedPayments>0)&&a.createElement(i.ZP,{item:!0,xs:12},a.createElement("br",null),a.createElement("b",null,E.Defaulted?"This loan has been defaulted because you missed to many payments. The asset(s) relating to this loan have been seized temporarily until you pay the amount missed. Failing to pay within a month of the loan being defaulted, your asset(s) are at high risk of being permanently seized.":E.MissedPayments>0&&"You have missed the last ".concat(E.MissedPayments>1?"".concat(E.MissedPayments," payments"):"payment"," for this loan. If ").concat(E.MissablePayments," consecutive payments are missed, the loan will be defaulted on and the asset(s) relating to this loan will be seized."))))),w?a.createElement(d.aN,{static:!0,text:"Completing Loan Payment..."}):E?a.createElement("div",{className:p.accountBody},E.Defaulted?a.createElement(i.ZP,{container:!0},a.createElement(i.ZP,{item:!0,xs:12,className:p.accountBtn,onClick:function(){return R()}},a.createElement("div",{className:p.content},a.createElement(i.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},a.createElement(i.ZP,{item:!0,xs:2},a.createElement(u.G,{icon:["fas","sack-dollar"]})),a.createElement(i.ZP,{item:!0,xs:10},"Pay Loan Debt"))))):a.createElement(i.ZP,{container:!0},a.createElement(i.ZP,{item:!0,xs:12,className:p.accountBtn,onClick:function(){return R()}},a.createElement("div",{className:p.content},a.createElement(i.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},a.createElement(i.ZP,{item:!0,xs:2},a.createElement(u.G,{icon:["fas","circle-dollar"]})),a.createElement(i.ZP,{item:!0,xs:10},"Make Next Payment")))))):a.createElement("p",null,"There was big fuckup oh no.")),a.createElement(d.u_,{form:!0,open:S,title:"Loan Payment - $".concat((0,h.getNextPaymentAmount)(E,M.weeks).toLocaleString("en-US")),submitLang:"Make Payment",closeLang:"Cancel",onAccept:B,onClose:function(){return L(!1)}},a.createElement("p",{className:p.editField},"Loan Payments are taken from your Personal Checking Account. Due Payment: $",(0,h.getNextPaymentAmount)(E,M.weeks).toLocaleString("en-US"),".")))}},88590:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(71972),r=n(17692),o=n(89526),i=n(23060),l=n(82082),s=n(47671),c=n(26966),m=n(9333),u=n(72757),d=n(24989);function p(e){return(0,d.Z)("MuiAppBar",e)}(0,n(36787).Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var y=n(67557);const f=["className","color","enableColorOnDark","position"],g=(0,s.ZP)(u.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,m.Z)(n.position)}`],t[`color${(0,m.Z)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,r.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,r.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"}))})),h=o.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiAppBar"}),{className:o,color:s="primary",enableColorOnDark:u=!1,position:d="fixed"}=n,h=(0,a.Z)(n,f),P=(0,r.Z)({},n,{color:s,position:d,enableColorOnDark:u}),b=(e=>{const{color:t,position:n,classes:a}=e,r={root:["root",`color${(0,m.Z)(t)}`,`position${(0,m.Z)(n)}`]};return(0,l.Z)(r,p,a)})(P);return(0,y.jsx)(g,(0,r.Z)({square:!0,component:"header",ownerState:P,elevation:4,className:(0,i.Z)(b.root,o,"fixed"===d&&"mui-fixed"),ref:t},h))}))}}]);