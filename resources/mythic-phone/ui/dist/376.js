"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[376],{50376:(e,t,n)=>{n.r(t),n.d(t,{DeleteConvo:()=>p,ReadConvo:()=>s,SendMessage:()=>i});var r=n(21447);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,u,c){try{var a=e[u](c),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,o)}var i=function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.Z.send("SendMessage",e);case 3:return t.next=5,t.sent.json();case 5:if(null==t.sent){t.next=11;break}return n({type:"ADD_DATA",payload:{type:"messages",first:!0,data:u({},e)}}),t.abrupt("return",!0);case 11:return t.abrupt("return",!1);case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var u=t.apply(e,n);function c(e){a(u,r,o,c,i,"next",e)}function i(e){a(u,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}()},s=function(e,t){return function(n){r.Z.send("ReadConvo",e).then((function(){n({type:"SET_DATA",payload:{type:"messages",data:t.map((function(t){return u(u({},t),{},{unread:t.number!==e&&t.unread})}))}})})).catch((function(e){}))}},p=function(e,t,n){return function(t){r.Z.send("DeleteConvo",e).then((function(){return t({type:"SET_DATA",payload:{type:"messages",data:n.filter((function(t){return t.number!=e}))}}),!0})).catch((function(e){return!1}))}}}}]);