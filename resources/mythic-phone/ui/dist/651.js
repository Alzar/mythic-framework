"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[651,9068],{19068:(e,t,n)=>{n.r(t),n.d(t,{GetMessages:()=>i,JoinChannel:()=>s,LeaveChannel:()=>l,SendMessage:()=>c});var r=n(21447);function a(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)}))}}var i=function(){var e=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.Z.send("GetMessages",{channel:t,joined:n});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Array());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=7;break;case 3:return e.prev=3,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,null,[[0,3]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=o(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),e.next=4,r.Z.send("JoinChannel",n);case 4:return e.next=6,e.sent.json();case 6:if(!e.sent){e.next=11;break}dispatch({type:"ADD_DATA",payload:{type:"ircChannels",data:{_id:n,name:t,joined:Date.now(),pinned:!1}}}),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){return function(){var t=o(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.Z.send("LeaveChannel",e);case 3:return t.next=5,t.sent.json();case 5:if(!t.sent){t.next=10;break}n({type:"REMOVE_DATA",payload:{type:"ircChannels",id:e}}),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}},90651:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(89526),a=n(92070),o=n(88590),i=n(14710),c=n(16025),s=n(23646),l=n(71529),u=n(57170),p=n(55565),m=n(23192),f=n(59324),d=n.n(f),h=n(65092),g=n(21447),b=n(11781),v=n(20785),x=n(19068),y=n(87961);function k(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,c,"next",e)}function c(e){k(o,r,a,i,c,"throw",e)}i(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=n(95028),S=(0,l.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflow:"hidden"},header:{background:"#1de9b6",fontSize:20,padding:15,lineHeight:"45px"},avatar:{color:"#fff",height:45,width:45},avatarFav:{color:"#fff",height:45,width:45,border:"2px solid gold"},messageAction:{textAlign:"center","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},body:{padding:10,height:"75%",display:"flex",flexDirection:"column-reverse",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:"#1de9b6"},"&::-webkit-scrollbar-track":{background:"transparent"}},input:{width:"100%",padding:"0 10px"},textInput:{width:"100%"},submitBtn:{height:"100%",fontSize:30,textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.7)","&:hover":{borderBottom:"2px solid #fff",color:"#1de9b6",transition:"color, border-bottom ease-in 0.15s"}},submitBtnDisabled:{height:"100%",fontSize:30,textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.7)",filter:"brightness(0.25)"},submitIcon:{display:"block",margin:"auto",height:"100%",width:"40%"},textWrap:{width:"100%",fontSize:16,color:e.palette.text.light},timestamp:{color:e.palette.text.alt,fontSize:12,marginLeft:5},messageImg:{display:"block",maxWidth:200},copyableText:{color:"#1de9b6",textDecoration:"underline",transition:"filter ease-in 0.15s","&:hover":{filter:"brightness(0.7)",cursor:"pointer"}},details:{fontSize:12,color:e.palette.text.alt},username:{color:"#1de9b6",fontSize:16},msgText:{padding:20,fontSize:14,display:"block",fontFamily:"monospace",color:e.palette.text.main},error:{width:"fit-content",margin:"auto",padding:10,border:"1px solid #1de9b6"}}}));const A=(0,a.$j)(null,{GetMessages:x.GetMessages})((function(e){var t=(0,y.VY)(),n=S(),l=(0,a.I0)(),f=(0,h.k6)(),x=e.match.params.channel,k=(0,a.v9)((function(e){return e.data.data["irc-".concat((0,b.mq)(x))]})),C=(0,a.v9)((function(e){return e.data.data.player})),A=(0,a.v9)((function(e){return e.data.data.ircChannels})).filter((function(e){return e.slug==x}))[0],T=E((0,r.useState)(!1),2),I=T[0],N=T[1],R=E((0,r.useState)([]),2),D=R[0],z=R[1],M=E((0,r.useState)(!1),2),j=M[0],B=M[1];(0,r.useEffect)((function(){var e=function(){var e=w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,g.Z.send("GetIRCMessages",(0,b.mq)(x));case 4:return e.next=6,e.sent.json();case 6:(t=e.sent)&&(z(t),l({type:"SET_DATA",payload:{type:"irc-".concat(x),data:t}})),B(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),B(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();k?z(k.filter((function(e){return e.time>=A.joined})).sort((function(e,t){return t.time-e.time}))):A&&e()}),[k]);var P=E((0,r.useState)(""),2),L=P[0],$=P[1],O=function(){var e=w(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.send("LeaveIRCChannel",x);case 3:return e.next=5,e.sent.json();case 5:e.sent?(t("You Left The Channel"),f.goBack(),l({type:"REMOVE_DATA",payload:{type:"ircChannels",id:x,key:"slug"}})):t("Unable To Leave Channel"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t("Unable To Leave Channel");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=w(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""==L){e.next=16;break}return e.prev=2,r={message:L,channel:x,time:Date.now(),from:C.Alias.irc},e.next=6,g.Z.send("SendIRCMessage",r);case 6:return e.next=8,e.sent.json();case 8:e.sent?(l({type:"ADD_DATA",payload:{type:"irc-".concat(x),first:!0,data:r}}),t("Message Sent"),$("")):t("Unable To Send Message"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),t("Unable To Send Message");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),G=[{regex:/((https?:\/\/(www\.)?(i\.)?imgur\.com\/[a-zA-Z\d]+)(\.png|\.jpg|\.jpeg|\.gif)?)/gim,fn:function(e,t){return r.createElement(v.NX,{key:e,className:n.messageImg,src:t[0]})}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)(mp4)/gim,fn:function(e,t){return r.createElement("div",null,r.createElement(m.Z,{key:e,volume:.25,width:"100%",controls:!0,url:"".concat(t[0])}))}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,a){return r.createElement(p.CopyToClipboard,{text:a[0],key:e,onCopy:function(){return t("Link Copied To Clipboard")}},r.createElement("a",{className:n.copyableText},a.input))}},{regex:/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,a){return r.createElement(p.CopyToClipboard,{text:a[0],key:e,onCopy:function(){return t("Link Copied To Clipboard")}},r.createElement("a",{className:n.copyableText},a.input))}}];return r.createElement("div",{className:n.wrapper},null!=A?r.createElement(r.Fragment,null,r.createElement(o.Z,{position:"static",className:n.header},r.createElement(i.ZP,{container:!0},r.createElement(i.ZP,{item:!0,xs:11},"#",A.slug),r.createElement(i.ZP,{item:!0,xs:1},r.createElement(i.ZP,{container:!0},r.createElement(i.ZP,{item:!0,xs:6},r.createElement(c.Z,{color:"secondary",onClick:function(){return N(!0)}},r.createElement(u.G,{icon:"right-from-bracket"}))))))),j?r.createElement("div",{className:n.body},r.createElement(v.aN,{text:"Loading Messages"})):r.createElement("div",{className:n.body},D.map((function(e,t){return r.createElement("div",{key:"msg-".concat(t),className:n.textWrap},r.createElement("span",{className:n.details},r.createElement("span",{className:n.username},e.from),r.createElement(d(),{className:n.timestamp,titleFormat:"h:mm:ss A",withTitle:!0,fromNow:!0},+e.time)),r.createElement("span",{className:n.msgText},Z(G)(e.message)))})),r.createElement("div",null,r.createElement("h3",null,"Welcome To #",A.slug))),r.createElement("div",{className:n.input},r.createElement("form",{onSubmit:_},r.createElement(i.ZP,{container:!0},r.createElement(i.ZP,{item:!0,xs:10},r.createElement(s.Z,{variant:"standard",className:n.textInput,label:"Send New Message",multiline:!0,rows:"4",value:L,onChange:function(e){$(e.target.value)}})),r.createElement(i.ZP,{item:!0,xs:2},r.createElement("div",{className:""!==L?n.submitBtn:n.submitBtnDisabled,onClick:_},r.createElement(u.G,{icon:"paper-plane",className:n.submitIcon})))))),r.createElement(v.I4,{title:"Leave Channel?",open:I,confirm:"Leave",decline:"Cancel",onConfirm:O,onDecline:function(){return N(!1)}})):r.createElement("div",{className:n.error},"Invalid Channel"))}))},88590:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(71972),a=n(17692),o=n(89526),i=n(23060),c=n(82082),s=n(47671),l=n(26966),u=n(9333),p=n(72757),m=n(24989);function f(e){return(0,m.Z)("MuiAppBar",e)}(0,n(36787).Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var d=n(67557);const h=["className","color","enableColorOnDark","position"],g=(0,s.ZP)(p.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,u.Z)(n.position)}`],t[`color${(0,u.Z)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,a.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,a.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"}))})),b=o.forwardRef((function(e,t){const n=(0,l.Z)({props:e,name:"MuiAppBar"}),{className:o,color:s="primary",enableColorOnDark:p=!1,position:m="fixed"}=n,b=(0,r.Z)(n,h),v=(0,a.Z)({},n,{color:s,position:m,enableColorOnDark:p}),x=(e=>{const{color:t,position:n,classes:r}=e,a={root:["root",`color${(0,u.Z)(t)}`,`position${(0,u.Z)(n)}`]};return(0,c.Z)(a,f,r)})(v);return(0,d.jsx)(g,(0,a.Z)({square:!0,component:"header",ownerState:v,elevation:4,className:(0,i.Z)(x.root,o,"fixed"===m&&"mui-fixed"),ref:t},b))}))},95028:e=>{e.exports=function(e){var t=0;function n(e,r){if(!e.fn||"function"!=typeof e.fn)return r;if(!(e.regex&&e.regex instanceof RegExp))return r;if("string"==typeof r){for(var a=e.regex,o=null,i=[];null!==(o=a.exec(r));){var c=o.index,s=o[0];i.push(r.substring(0,c)),i.push(e.fn(++t,o)),r=r.substring(c+s.length,r.length+1),a.lastIndex=0}return i.push(r),i}return Array.isArray(r)?r.map((function(t){return n(e,t)})):r}return function(t){return e&&Array.isArray(e)&&e.length?(e.forEach((function(e){return t=n(e,t)})),t):t}}}}]);