"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[2337],{22337:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(89526),a=n(92070),c=n(16743),l=n(25385),o=n(30919),i=n(50563),u=n(72215),s=n(91153),m=n(77548),d=n(21722),p=n(71529),f=n(57170),y=n(36105),E=n.n(y),h=n(20785);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=(0,p.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,"& span":{marginLeft:5,fontSize:12,color:e.palette.text.alt,"&::before":{content:'"("'},"&::after":{content:'")"'}}},track:{background:e.palette.secondary.dark},youindic:{color:"gold"},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},owned:{color:"gold",marginLeft:5}}}));const S=function(e){var t=Z(),n=(0,a.v9)((function(e){return e.data.data.player.Callsign})),p=(0,a.v9)((function(e){return e.data.data.tracks_pd})),y=(0,a.v9)((function(e){return e.pdRace.races})).filter((function(e){return 2==e.state})).sort((function(e,t){return t.time-e.time})),v=g((0,r.useState)(null),2),S=v[0],b=v[1],k=g((0,r.useState)(null),2),w=k[0],N=k[1];return r.createElement("div",{className:t.wrapper},r.createElement("div",null,y.length>0?y.map((function(e,a){var y=p.filter((function(t){return t._id==e.track}))[0];return y?r.createElement(c.Z,{key:"race-".concat(a),className:t.track,expanded:w===a,onChange:w===a?function(){return N(null)}:function(){return N(a)}},r.createElement(l.Z,{expandIcon:r.createElement(f.G,{icon:["fas","chevron-down"]})},r.createElement(o.Z,{className:t.heading},e.name,null!=e.racers[n]&&r.createElement("span",{className:t.youindic},"*")),r.createElement(o.Z,{className:t.secondaryHeading},y.Name)),r.createElement(i.Z,null,r.createElement(u.Z,null,r.createElement(s.ZP,null,r.createElement(m.Z,{primary:"Name",secondary:e.name})),r.createElement(s.ZP,null,r.createElement(m.Z,{primary:"Host",secondary:"".concat(e.host)})),r.createElement(s.ZP,null,r.createElement(m.Z,{primary:"Track",secondary:"".concat(y.Name," (").concat(y.Distance,")")})),r.createElement(s.ZP,null,r.createElement(m.Z,{primary:"# of Laps",secondary:e.laps})),r.createElement(s.ZP,null,r.createElement(m.Z,{primary:"Participants",secondary:Object.keys(e.racers).length>0?"".concat(Object.keys(e.racers).length," Participants"):null})),r.createElement(s.ZP,null,r.createElement(u.Z,null,r.createElement(s.ZP,null,r.createElement(d.Z,{variant:"contained",color:"primary",onClick:function(){return b(e)}},"View Participants"))))))):null})):r.createElement("div",{className:t.emptyMsg},"No Recent Trials"),r.createElement(h.u_,{open:null!=S,title:"Race Results",onClose:function(){return b(null)}},null!=S&&r.createElement(u.Z,null,Object.keys(S.racers).filter((function(e){return S.racers[e].finished})).sort((function(e,t){var n,r;return(null===(n=S.racers[e])||void 0===n?void 0:n.place)-(null===(r=S.racers[t])||void 0===r?void 0:r.place)})).map((function(e){var n=E().duration(S.racers[e].fastest.lapEnd-S.racers[e].fastest.lapStart);return r.createElement(s.ZP,null,r.createElement(m.Z,{primary:r.createElement("span",null,"#".concat(S.racers[e].place," ").concat(e),Boolean(S.racers[e].isOwned)&&r.createElement(f.G,{className:t.owned,icon:["fas","award"]})),secondary:r.createElement("div",null,r.createElement("div",null,"Fastest Lap:"," ","".concat(String(n.hours()).padStart(2,"0"),":").concat(String(n.minutes()).padStart(2,"0"),":").concat(String(n.seconds()).padStart(2,"0"),":").concat(String(n.milliseconds()).padStart(3,"0"))))}))})),Object.keys(S.racers).filter((function(e){return!S.racers[e].finished})).map((function(e){return r.createElement(s.ZP,null,r.createElement(m.Z,{primary:"".concat(e),secondary:"DNF"}))}))))))}}}]);