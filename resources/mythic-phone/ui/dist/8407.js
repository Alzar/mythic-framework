"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[8407,2595],{38407:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var r=o(89526),n=(o(92070),o(88590)),a=o(14710),i=o(33933),l=o(16025),c=o(71529),s=o(57170),p=o(20785),u=o(2595),d=(0,c.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:e.palette.primary.main,fontSize:20,padding:15,lineHeight:"45px",height:78},headerAction:{textAlign:"right","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},body:{padding:10,height:"88.75%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}}));const m=function(e){var t=e.jobs,o=(e.groups,e.myGroup),c=e.loading,m=e.onRefresh,f=d();return r.createElement("div",{className:f.wrapper},r.createElement(n.Z,{position:"static",className:f.header},r.createElement(a.ZP,{container:!0},r.createElement(a.ZP,{item:!0,xs:8},"Labor"),r.createElement(a.ZP,{item:!0,xs:4,className:f.headerAction},r.createElement(i.Z,{title:"Refresh Jobs"},r.createElement(l.Z,{onClick:m},r.createElement(s.G,{className:"fa ".concat(c?"fa-spin":""),icon:["fas","arrows-rotate"]})))))),r.createElement("div",{className:f.body},Boolean(t)?Object.keys(t).length>0?Object.keys(t).map((function(e){return r.createElement(u.default,{key:"labor-".concat(e),job:t[e],myGroup:o,disabled:c})})):r.createElement("div",{className:f.emptyMsg},"No Jobs Available"):r.createElement(p.aN,{static:!0,text:"Loading"})))}},2595:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var r=o(89526),n=o(92070),a=o(72757),i=o(14710),l=o(21722),c=o(71529),s=(o(57170),o(21447)),p=o(87961);function u(e,t,o,r,n,a,i){try{var l=e[a](i),c=l.value}catch(e){return void o(e)}l.done?t(c):Promise.resolve(c).then(r,n)}function d(e){return function(){var t=this,o=arguments;return new Promise((function(r,n){var a=e.apply(t,o);function i(e){u(a,r,n,i,l,"next",e)}function l(e){u(a,r,n,i,l,"throw",e)}i(void 0)}))}}var m=(0,c.Z)((function(e){return{wrapper:{padding:10,background:e.palette.secondary.dark,"&:not(:last-of-type)":{marginBottom:10}},details:{position:"absolute",width:"fit-content",height:"fit-content",top:0,bottom:0,margin:"auto"},title:{fontSize:20,color:e.palette.primary.main,fontWeight:"bold"},pay:{fontSize:16,color:e.palette.success.main},duty:{fontSize:16,fontWeight:"bold",position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},actions:{position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"}}}));const f=function(e){var t=e.job,o=e.myGroup,c=e.disabled,u=m(),f=((0,n.I0)(),(0,p.VY)()),b=(0,n.v9)((function(e){return e.data.data.player})),h=function(){var e=d(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.send("StartLaborJob",{job:t.Id,isWorkgroup:Boolean(o)});case 3:return e.next=5,e.sent.json();case 5:r=e.sent,f(r?"Started ".concat(t.Name):"Unable to Start Job"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f("Unable to Start Job");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=d(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.send("QuitLaborJob",t.Id);case 3:return e.next=5,e.sent.json();case 5:o=e.sent,f(o?"Quit ".concat(t.Name):"Unable to Quit Job"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f("Unable to Quit Job");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(a.Z,{className:u.wrapper},r.createElement(i.ZP,{container:!0},r.createElement(i.ZP,{item:!0,xs:7,style:{position:"relative",height:65}},r.createElement("div",{className:u.details},r.createElement("div",{className:u.title},t.Name),t.Salary>0&&r.createElement("div",{className:u.pay},"$",t.Salary))),r.createElement(i.ZP,{item:!0,xs:2,style:{position:"relative"}},r.createElement("div",{className:u.duty},0==t.Limit?t.OnDuty.length:"".concat(t.OnDuty.length," / ").concat(t.Limit))),r.createElement(i.ZP,{item:!0,xs:3,style:{position:"relative"}},t.OnDuty.filter((function(e){return e.Joiner==b.Source})).length>0||Boolean(o)&&t.OnDuty.filter((function(e){return e.Joiner==o.Creator.ID})).length>0?r.createElement(l.Z,{variant:"text",className:u.actions,disabled:Boolean(o)&&o.Creator.ID!=b.Source||c,onClick:g},"Quit"):r.createElement(l.Z,{variant:"text",className:u.actions,disabled:Boolean(o)&&o.Creator.ID!=b.Source||Boolean(b.TempJob)||c,onClick:h},"Start"))))}},88590:(e,t,o)=>{o.d(t,{Z:()=>g});var r=o(71972),n=o(17692),a=o(89526),i=o(23060),l=o(82082),c=o(47671),s=o(26966),p=o(9333),u=o(72757),d=o(24989);function m(e){return(0,d.Z)("MuiAppBar",e)}(0,o(36787).Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var f=o(67557);const b=["className","color","enableColorOnDark","position"],h=(0,c.ZP)(u.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${(0,p.Z)(o.position)}`],t[`color${(0,p.Z)(o.color)}`]]}})((({theme:e,ownerState:t})=>{const o="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,n.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},"default"===t.color&&{backgroundColor:o,color:e.palette.getContrastText(o)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,n.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"}))})),g=a.forwardRef((function(e,t){const o=(0,s.Z)({props:e,name:"MuiAppBar"}),{className:a,color:c="primary",enableColorOnDark:u=!1,position:d="fixed"}=o,g=(0,r.Z)(o,b),v=(0,n.Z)({},o,{color:c,position:d,enableColorOnDark:u}),y=(e=>{const{color:t,position:o,classes:r}=e,n={root:["root",`color${(0,p.Z)(t)}`,`position${(0,p.Z)(o)}`]};return(0,l.Z)(n,m,r)})(v);return(0,f.jsx)(h,(0,n.Z)({square:!0,component:"header",ownerState:v,elevation:4,className:(0,i.Z)(y.root,a,"fixed"===d&&"mui-fixed"),ref:t},g))}))}}]);