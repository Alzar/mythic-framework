"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[8844],{38844:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(89526),a=n(92070),i=n(88590),o=n(14710),c=n(16025),u=n(70359),l=n(23646),s=n(71529),m=n(57170),f=n(21447),g=n(20785),p=n(87961),d=n(10761);function b(e,t,n,r,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,c,"next",e)}function c(e){b(i,r,a,o,c,"throw",e)}o(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=(0,s.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},editField:{marginBottom:15,"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:"#1de9b6"},"&::-webkit-scrollbar-track":{background:"transparent"}},inner:{position:"relative",height:"100%"},tweetlist:{height:"89%",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:"#1de9b6"},"&::-webkit-scrollbar-track":{background:"transparent"}},preview:{width:200,margin:"auto",display:"block"},header:{background:"#00aced",fontSize:20,padding:15,lineHeight:"45px",height:78}}}));const O=function(e){var t=x(),n=((0,a.I0)(),(0,p.VY)()),s=(0,a.v9)((function(e){return e.data.data.tweets})),b=(0,a.v9)((function(e){return e.data.data.player})),w=s?Math.ceil(s.length/20):0,E=k((0,r.useState)(1),2),O=E[0],I=E[1],P=k((0,r.useState)(!1),2),S=P[0],j=P[1],L=k((0,r.useState)({tweet:"",usingImg:!1,imgLink:""}),2),A=L[0],C=L[1],R=k((0,r.useState)(null),2),T=R[0],Z=R[1],N=function(e){C(y(y({},A),{},v({},e.target.name,e.target.value)))},D=function(e){C(y(y({},A),{},{tweet:"@".concat(e," ")})),j(!0)},_=function(e){Z(e)},F=function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(y(y({},T),{},{author:b.Alias.twitter,content:"<b>RETWEET</b> @".concat(T.author.name,' "').concat(T.content,'"'),time:Date.now(),retweet:T._id,likes:Array()}));case 2:t=e.sent,Z(null),n(t?"Retweeted":"Unable to Retweet");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=h(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.send("SendTweet",t);case 3:return e.next=5,e.sent.json();case 5:if(!e.sent){e.next=12;break}return j(!1),C({tweet:"",usingImg:!1,imgLink:""}),e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=h(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({time:Date.now(),content:A.tweet,image:{using:A.usingImg,link:A.imgLink},likes:Array()});case 2:r=e.sent,C({tweet:"",usingImg:!1,imgLink:""}),j(!1),n(r?"Tweet Created":"Unable to Create Tweet");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.createElement("div",{className:t.wrapper},r.createElement("div",{className:t.inner},r.createElement(i.Z,{position:"static",className:t.header},r.createElement(o.ZP,{container:!0},r.createElement(o.ZP,{item:!0,xs:8,style:{lineHeight:"50px"}},"Twitter"),r.createElement(o.ZP,{item:!0,xs:4,style:{textAlign:"right"}},r.createElement(c.Z,{onClick:function(){return j(!0)},disabled:null==b.Alias.twitter,className:t.headerAction},r.createElement(m.G,{icon:["fas","plus"]}))))),r.createElement("div",{className:t.tweetlist},s.sort((function(e,t){return t.time-e.time})).slice(0,200).slice(20*(O-1),20*O).map((function(e){return r.createElement(d.default,{key:e._id,tweet:e,rtcount:s.filter((function(t){return t.retweet==e._id})).length,onReply:D,onRetweet:_})})),w>1&&r.createElement(u.Z,{count:w,page:O,onChange:function(e,t){return I(t)},variant:"outlined",color:"primary",style:{padding:"5%"}}))),r.createElement(g.u_,{form:!0,open:S,title:"Send New Tweet",onClose:function(){return j(!1)},onAccept:U,onDelete:function(){C(y(y({},A),{},{imgLink:"",usingImg:!A.usingImg}))},submitLang:"Send Tweet",deleteLang:A.usingImg?"Remove Image":"Attach Image",closeLang:"Cancel"},r.createElement(r.Fragment,null,r.createElement(l.Z,{className:t.editField,label:"Tweet",name:"tweet",type:"text",fullWidth:!0,multiline:!0,required:!0,helperText:"".concat(A.tweet.length," / 180 Characters"),value:A.tweet,onChange:N,inputProps:{maxLength:180},InputLabelProps:{style:{fontSize:20}}}),A.usingImg&&r.createElement(r.Fragment,null,""!=A.imgLink&&r.createElement("img",{src:A.imgLink,className:t.preview}),r.createElement(l.Z,{className:t.editField,label:"Image",name:"imgLink",helperText:"Imgur Links Only!",type:"text",fullWidth:!0,required:!0,value:A.imgLink,onChange:N,InputLabelProps:{style:{fontSize:20}}})))),r.createElement(g.I4,{title:"Retweet?",open:null!=T,confirm:"Retweet",decline:"Cancel",onConfirm:F,onDecline:function(){return Z(null)}}))}}}]);