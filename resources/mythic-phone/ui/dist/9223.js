"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[9223],{9223:(e,r,t)=>{t.r(r),t.d(r,{default:()=>h});var n=t(89526),a=t(91153),o=t(77548),c=t(81939),i=t(16025),u=t(71529),l=t(57170),s=t(20785),f=t(21447),p=t(87961);function y(e,r,t,n,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void t(e)}i.done?r(u):Promise.resolve(u).then(n,a)}function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,o=[],c=!0,i=!1;try{for(t=t.call(e);!(c=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==t.return||t.return()}finally{if(i)throw a}}return o}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var v=(0,u.Z)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main}}}));const h=function(e){var r=e.property,t=e.data,u=e.canRevoke,m=e.onRefresh,h=e.onUpdate,b=(v(),(0,p.VY)()),k=d((0,n.useState)(!1),2),g=k[0],w=k[1],E=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.send("Home:RevokeDigiKey",{id:r.id,target:t.Char});case 3:return e.next=5,e.sent.json();case 5:if((a=e.sent).error){e.next=12;break}b("DigiKey Has Been Revoked"),w(!1),m(),e.next=29;break;case 12:e.t0=a.code,e.next=1===e.t0?15:2===e.t0?17:3===e.t0?19:4===e.t0?21:5===e.t0?23:6===e.t0?25:7===e.t0?27:29;break;case 15:return b("Error Occured"),e.abrupt("break",29);case 17:return b("Invalid Property"),e.abrupt("break",29);case 19:return b("Not Allowed"),e.abrupt("break",29);case 21:return b("Invalid Target Player"),e.abrupt("break",29);case 23:return b("Invalid Target Character"),e.abrupt("break",29);case 25:return b("Person Doesn't Have A DigiKey For Property"),e.abrupt("break",29);case 27:return b("Error Occured Revoking DigiKey"),e.abrupt("break",29);case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),console.log(e.t1);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function c(e){y(o,n,a,c,i,"next",e)}function i(e){y(o,n,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement(a.ZP,{divider:!0},n.createElement(o.Z,{primary:"".concat(t.First," ").concat(t.Last),secondary:t.Owner?"Owner":"Key Holder"}),u&&n.createElement(c.Z,null,n.createElement(i.Z,{onClick:h},n.createElement(l.G,{icon:["fas","pen-to-square"]})),n.createElement(i.Z,{onClick:function(){return w(!0)}},n.createElement(l.G,{icon:["fas","trash"]})))),u&&n.createElement(s.I4,{title:"Revoke DigiKey?",open:g,confirm:"Yes",decline:"No",onConfirm:E,onDecline:function(){return w(!1)}},n.createElement("p",null,"Removing the DigiKey will revoke access to this property and shared assets for this person. Are you sure?")))}}}]);